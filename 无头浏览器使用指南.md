# æ— å¤´æµè§ˆå™¨ä½¿ç”¨æŒ‡å—

## ğŸ“¦ å·²å®‰è£…ç»„ä»¶

- **Playwright** - è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶
- **Chromium** - æµè§ˆå™¨å¼•æ“
- **FFmpeg** - è§†é¢‘å¤„ç†æ”¯æŒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºç¡€æµ‹è¯•
```bash
node headless-test.js
```

### ç®€å•ç¤ºä¾‹ï¼ˆæ¨èï¼‰
```bash
node headless-simple.js
```

### å®Œæ•´ç¤ºä¾‹
```bash
node headless-examples.js
```

## ğŸ’¡ å¸¸è§ç”¨é€”

### 1. ç½‘é¡µæˆªå›¾
```javascript
const { chromium } = require('playwright');

const browser = await chromium.launch();
const page = await browser.newPage();

await page.goto('https://example.com');
await page.screenshot({ path: 'screenshot.png' });

await browser.close();
```

### 2. PDF å¯¼å‡º
```javascript
await page.pdf({
  path: 'page.pdf',
  format: 'A4',
  printBackground: true
});
```

### 3. æ•°æ®æŠ“å–
```javascript
const data = await page.$$eval('selector', (elements) =>
  elements.map(el => el.textContent)
);
```

### 4. è¡¨å•å¡«å†™
```javascript
await page.fill('#username', 'ç”¨æˆ·å');
await page.fill('#password', 'å¯†ç ');
await page.click('#submit');
```

### 5. ç­‰å¾…å…ƒç´ 
```javascript
// ç­‰å¾…å…ƒç´ å‡ºç°
await page.waitForSelector('#element');

// ç­‰å¾…ç½‘ç»œç©ºé—²
await page.waitForLoadState('networkidle');

// ç­‰å¾…æŒ‡å®šæ—¶é—´
await page.waitForTimeout(2000);
```

## ğŸ¯ å®ç”¨åœºæ™¯

### SEO ç›‘æ§
- å®šæœŸæˆªå›¾ç½‘ç«™
- æ£€æŸ¥é¡µé¢åŠ è½½é€Ÿåº¦
- éªŒè¯æ ‡é¢˜å’Œ meta æ ‡ç­¾

### æ•°æ®é‡‡é›†
- çˆ¬å–å•†å“ä»·æ ¼
- ç›‘æ§æ–°é—»æ›´æ–°
- æ”¶é›†ç«å“ä¿¡æ¯

### è‡ªåŠ¨åŒ–æµ‹è¯•
- è¡¨å•æäº¤æµ‹è¯•
- ç”¨æˆ·æµç¨‹æµ‹è¯•
- å…¼å®¹æ€§æµ‹è¯•

### æ‰¹é‡æ“ä½œ
- æ‰¹é‡ç”ŸæˆæŠ¥å‘Š
- è‡ªåŠ¨å¡«è¡¨æäº¤
- å®šæ—¶ä»»åŠ¡æ‰§è¡Œ

## âš™ï¸ é…ç½®é€‰é¡¹

### å¯åŠ¨å‚æ•°
```javascript
const browser = await chromium.launch({
  headless: true,           // æ— å¤´æ¨¡å¼
  slowMo: 50,              // å‡æ…¢é€Ÿåº¦ï¼ˆè°ƒè¯•ç”¨ï¼‰
  args: [
    '--no-sandbox',
    '--disable-setuid-sandbox',
    '--disable-gpu'
  ]
});
```

### è§†å£è®¾ç½®
```javascript
await page.setViewportSize({ width: 1920, height: 1080 });
```

### ç”¨æˆ·ä»£ç†
```javascript
await page.setExtraHTTPHeaders({
  'User-Agent': 'Mozilla/5.0 ...'
});
```

## ğŸ› è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹æµè§ˆå™¨æ“ä½œï¼ˆéæ— å¤´æ¨¡å¼ï¼‰
```javascript
const browser = await chromium.launch({ headless: false });
```

### æ…¢é€Ÿæ‰§è¡Œ
```javascript
const browser = await chromium.launch({ slowMo: 100 });
```

### å½•åˆ¶æ“ä½œ
```bash
npx playwright codegen https://example.com
```

### æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—
```javascript
page.on('console', msg => console.log(msg.text()));
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### åçˆ¬è™«å¯¹ç­–
1. è®¾ç½®åˆç†çš„ User-Agent
2. æ·»åŠ éšæœºå»¶è¿Ÿ
3. ä½¿ç”¨ä»£ç† IP
4. æ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸º

### æ€§èƒ½ä¼˜åŒ–
1. å…³é—­å›¾ç‰‡åŠ è½½ï¼ˆå¦‚ä¸éœ€è¦ï¼‰
2. ä½¿ç”¨ç¼“å­˜
3. å¹¶å‘æ§åˆ¶ï¼ˆé¿å…è¿‡å¤šè¯·æ±‚ï¼‰
4. å®šæœŸå…³é—­æµè§ˆå™¨

### åˆè§„ä½¿ç”¨
1. éµå®ˆ robots.txt
2. æ§åˆ¶è¯·æ±‚é¢‘ç‡
3. ä¸è®¿é—®æ•æ„Ÿæ•°æ®
4. å°Šé‡ç½‘ç«™æ¡æ¬¾

## ğŸ“š æ›´å¤šèµ„æº

- **Playwright æ–‡æ¡£:** https://playwright.dev/
- **API å‚è€ƒ:** https://playwright.dev/docs/api/class-playwright
- **ç¤ºä¾‹ä»£ç :** https://playwright.dev/docs/codegen
- **æœ€ä½³å®è·µ:** https://playwright.dev/docs/best-practices

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜: å†…å­˜ä¸è¶³
```javascript
// ä½¿ç”¨æ›´è½»é‡çš„é…ç½®
await browser.close(); // åŠæ—¶å…³é—­æµè§ˆå™¨
```

### é—®é¢˜: è¶…æ—¶é”™è¯¯
```javascript
// å¢åŠ è¶…æ—¶æ—¶é—´
await page.goto('https://example.com', {
  timeout: 60000
});
```

### é—®é¢˜: å…ƒç´ æœªæ‰¾åˆ°
```javascript
// ä½¿ç”¨æ›´çµæ´»çš„é€‰æ‹©å™¨
await page.waitForSelector('element', { timeout: 10000 });
```

## ğŸ“ æ–‡ä»¶åˆ—è¡¨

- `headless-test.js` - åŸºç¡€æµ‹è¯•è„šæœ¬
- `headless-simple.js` - ç®€å•ç¤ºä¾‹ï¼ˆæ¨èï¼‰
- `headless-examples.js` - å®Œæ•´ç¤ºä¾‹é›†åˆ

---

**çŠ¶æ€:** âœ… å·²å®‰è£…å¹¶æµ‹è¯•é€šè¿‡
**æ›´æ–°æ—¶é—´:** 2026-02-09
